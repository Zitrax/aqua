<!DOCTYPE HTML>
<html>
  <head>
    <title>Aquarium temperature</title>
    <script type="text/javascript">
      var source = new EventSource('/cgi-bin/aqua.py');

      source.addEventListener('aqua-temp', function(e) {
	document.querySelector('#temp').innerHTML = e.data;
      }, false);

      source.addEventListener('error', function(e) {
	document.querySelector('#temp').innerHTML = "ERROR";
      }, false);

      source.addEventListener('open', function(e) {
	document.querySelector('#temp').innerHTML = "OPEN";
      }, false);

    </script>
  </head>
  <body>
    <div id="temp" style="font-size: 500%;">
      [TEMP]
    </div>
  </body>
</html>
